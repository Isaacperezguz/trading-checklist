<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Trading</title>
    <style>
        :root {
            --color-critical: #ff6b6b;
            --color-flexible: #feca57;
            --color-management: #1dd1a1;
            --color-disabled: #f1f2f6;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2f3542;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f6fa;
        }
        h1 {
            color: #2f3542;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #57606f;
            padding-bottom: 10px;
        }
        h2 {
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin-top: 30px;
        }
        .critical-section {
            background-color: var(--color-critical);
        }
        .flexible-section {
            background-color: var(--color-flexible);
            color: #2f3542;
        }
        .management-section {
            background-color: var(--color-management);
        }
        .checklist {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin-bottom: 20px;
        }
        .condition {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }
        .condition:hover {
            background-color: #f8f9fa;
        }
        .condition:last-child {
            border-bottom: none;
        }
        .condition-number {
            font-weight: bold;
            margin-right: 15px;
            min-width: 30px;
            text-align: center;
        }
        .condition-desc {
            flex-grow: 1;
        }
        .condition-check {
            margin-left: 15px;
        }
        .results {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            text-align: center;
        }
        .score-display {
            font-size: 1.5em;
            font-weight: bold;
            margin: 15px 0;
        }
        .verdict {
            font-size: 1.3em;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }
        .Aplus {
            background-color: #2ed573;
            color: white;
        }
        .valid {
            background-color: #ffa502;
            color: white;
        }
        .possible {
            background-color: #ff7f50;
            color: white;
        }
        .no-trade {
            background-color: #ff4757;
            color: white;
        }
        .checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        .section-points {
            float: right;
            font-weight: normal;
            font-size: 0.9em;
        }
        @media (max-width: 768px) {
            .condition {
                flex-direction: column;
                align-items: flex-start;
            }
            .condition-check {
                margin-left: 0;
                margin-top: 10px;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <h1>Checklist de Trading</h1>
    
    <div class="checklist">
        <h2 class="critical-section">Condiciones Críticas <span class="section-points" id="critical-points">0/10</span></h2>
        <div class="condition">
            <div class="condition-number">1</div>
            <div class="condition-desc">Nivel técnico válido: Soporte/resistencia horizontal con mínimo 3 toques previos</div>
            <div class="condition-check"><input type="checkbox" class="checkbox critical" data-points="2"></div>
        </div>
        <div class="condition">
            <div class="condition-number">2</div>
            <div class="condition-desc">Ruptura con volumen: Vela rompe con ≥150% del volumen promedio de 20 velas</div>
            <div class="condition-check"><input type="checkbox" class="checkbox critical" data-points="2"></div>
        </div>
        <div class="condition">
            <div class="condition-number">3</div>
            <div class="condition-desc">Cierre válido: La vela cierra completamente fuera del rango (no mecha)</div>
            <div class="condition-check"><input type="checkbox" class="checkbox critical" data-points="2"></div>
        </div>
        <div class="condition">
            <div class="condition-number">4</div>
            <div class="condition-desc">Evitar noticias: No hay noticias de alto impacto ±30 min alrededor del trade</div>
            <div class="condition-check"><input type="checkbox" class="checkbox critical" data-points="2"></div>
        </div>
        <div class="condition">
            <div class="condition-number">5</div>
            <div class="condition-desc">Dirección de tendencia: Ruptura a favor de la tendencia (confirmada por EMA200)</div>
            <div class="condition-check"><input type="checkbox" class="checkbox critical" data-points="2"></div>
        </div>
    </div>
    
    <div class="checklist">
        <h2 class="flexible-section">Condiciones Flexibles <span class="section-points" id="flexible-points">0/5</span></h2>
        <div class="condition">
            <div class="condition-number">6</div>
            <div class="condition-desc">RSI en zona neutra: RSI entre 35 y 65 en gráfico 15-30 min</div>
            <div class="condition-check"><input type="checkbox" class="checkbox flexible" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">7</div>
            <div class="condition-desc">Rango previo razonable: Rango tiene al menos 20-40 pips (no micro consolidación)</div>
            <div class="condition-check"><input type="checkbox" class="checkbox flexible" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">8</div>
            <div class="condition-desc">Confirmación de siguiente vela: No regresa al rango roto (sin retroceso peligroso)</div>
            <div class="condition-check"><input type="checkbox" class="checkbox flexible" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">9</div>
            <div class="condition-desc">Entrada en pullback: Pullback controlado a zona rota o rompimiento limpio</div>
            <div class="condition-check"><input type="checkbox" class="checkbox flexible" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">10</div>
            <div class="condition-desc">Confirmación por MACD/ADX: Momentum respaldado por cruce MACD o ADX > 20</div>
            <div class="condition-check"><input type="checkbox" class="checkbox flexible" data-points="1"></div>
        </div>
    </div>
    
    <div class="checklist">
        <h2 class="management-section">Gestión de Riesgo <span class="section-points" id="management-points">0/4</span></h2>
        <div class="condition">
            <div class="condition-number">11</div>
            <div class="condition-desc">SL lógico: Stop justo fuera del nivel clave (no al azar)</div>
            <div class="condition-check"><input type="checkbox" class="checkbox management" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">12</div>
            <div class="condition-desc">TP definido: Take Profit basado en estructura o altura del rango roto</div>
            <div class="condition-check"><input type="checkbox" class="checkbox management" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">13</div>
            <div class="condition-desc">R:R mínimo: Relación Riesgo/Beneficio ≥ 2:1</div>
            <div class="condition-check"><input type="checkbox" class="checkbox management" data-points="1"></div>
        </div>
        <div class="condition">
            <div class="condition-number">14</div>
            <div class="condition-desc">Lote correcto: Tamaño de posición respeta el 1-2% de tu capital</div>
            <div class="condition-check"><input type="checkbox" class="checkbox management" data-points="1"></div>
        </div>
    </div>
    
    <div class="results">
        <h2>Resultado del Análisis</h2>
        <div class="score-display">Puntuación Total: <span id="total-score">0</span>/19</div>
        <div id="verdict" class="verdict no-trade">❌ NO operar (falta cumplir condiciones críticas)</div>
        
        <div style="margin-top: 20px; text-align: left;">
            <h3>Criterios de Evaluación:</h3>
            <ul>
                <li><strong>18-19 puntos:</strong> Entrada muy sólida (Operación A+)</li>
                <li><strong>17 puntos:</strong> Entrada válida, pero vigila gestión</li>
                <li><strong>15-16 puntos:</strong> Posible entrada solo si mercado está limpio (reducir lote)</li>
                <li><strong>&lt;15 puntos:</strong> No operar (demasiados riesgos)</li>
                <li><strong>Fallo en condiciones críticas:</strong> ❌ NO operar, sin importar el total</li>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.checkbox');
            const criticalCheckboxes = document.querySelectorAll('.critical');
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateScores);
            });
            
            function updateScores() {
                // Calcular puntuaciones por sección
                const criticalPoints = calculateSectionPoints('.critical');
                const flexiblePoints = calculateSectionPoints('.flexible');
                const managementPoints = calculateSectionPoints('.management');
                const totalScore = criticalPoints + flexiblePoints + managementPoints;
                
                // Actualizar displays
                document.getElementById('critical-points').textContent = `${criticalPoints}/10`;
                document.getElementById('flexible-points').textContent = `${flexiblePoints}/5`;
                document.getElementById('management-points').textContent = `${managementPoints}/4`;
                document.getElementById('total-score').textContent = totalScore;
                
                // Evaluar veredicto
                const verdict = document.getElementById('verdict');
                const allCriticalChecked = Array.from(criticalCheckboxes).every(cb => cb.checked);
                
                if (!allCriticalChecked) {
                    verdict.textContent = "❌ NO operar (falta cumplir condiciones críticas)";
                    verdict.className = "verdict no-trade";
                } else if (totalScore >= 18) {
                    verdict.textContent = "✅ Entrada muy sólida (Operación A+)";
                    verdict.className = "verdict Aplus";
                } else if (totalScore === 17) {
                    verdict.textContent = "⚠️ Entrada válida, pero vigila gestión";
                    verdict.className = "verdict valid";
                } else if (totalScore >= 15) {
                    verdict.textContent = "⚠️ Posible entrada solo si mercado está limpio (reducir lote)";
                    verdict.className = "verdict possible";
                } else {
                    verdict.textContent = "❌ No operar (demasiados riesgos)";
                    verdict.className = "verdict no-trade";
                }
            }
            
            function calculateSectionPoints(selector) {
                return Array.from(document.querySelectorAll(selector))
                    .filter(checkbox => checkbox.checked)
                    .reduce((sum, checkbox) => sum + parseInt(checkbox.dataset.points), 0);
            }
        });
    </script>
</body>
</html>